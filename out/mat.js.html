<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc 3.3.2">
  <meta charset="utf-8">
  <title>Source: mat.js</title>
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Karla:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Noto+Serif:400,400i,700,700i" type="text/css">
  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Inconsolata:500" type="text/css">
  <link href="css/baseline.css" rel="stylesheet">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: mat.js</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>/**
 * Esportazione delle schede MAT MUD
 * @module mat
 * @memberof module:mud
 * @author Denny Biasiolli
 */

var util = require(&#x27;util&#x27;);
var utils = require(&#x27;./utils&#x27;);

/** Esporta la riga relativa al record MA(RIF) – Scheda Materiali secondari
 * @param {string} annoRiferimentoDichiarazione Anno di riferimento della dichiarazione (AAAA)
 * @param {string} codiceFiscale Codice fiscale identificativo
 * @param {string} codUL Codice di identificazione univoca dell’unità locale
 * @param {decimal} kgAmmCompVerde Ammendante compostato verde
 * @param {decimal} kgAmmCompMisto Ammendante compostato misto
 * @param {decimal} kgAltriAmm Altri Ammendanti
 * @param {decimal} kgDigestato Digestato
 * @param {decimal} kgAggrRic Aggregati riciclati
 * @param {decimal} kgRottVetro Rottami di vetro
 * @param {decimal} kgRottFerroAcciaio Rottami di ferro e acciaio
 * @param {decimal} kgRottAlluminio Rottami di alluminio
 * @param {decimal} kgRottRame Rottami di rame
 * @param {decimal} kgCartaCartone Carta e cartone
 * @param {decimal} kgPlastica Plastica
 * @param {decimal} kgLegnoSughero Legno e sughero
 * @param {decimal} kgCssCombustibile CSS – combustibile
 * @param {decimal} kgTessile Tessile
 * @param {decimal} kgCuoio Cuoio
 * @param {decimal} kgRifCeramici Rifiuti Ceramici
 * @param {decimal} kgFanghi Fanghi
 * @param {decimal} kgFertilizzanti Fertilizzanti
 * @param {decimal} kgGomma Gomma
 * @param {decimal} kgAltro Altro
 * @param {utils.recordExportCallback} [callback] - Funzione di callback
 * @return {string} (Se non gestito callback) MA(RIF) – Scheda Materiali secondari
 */
exports.getRecordMAT_RIF = function(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                                     kgAmmCompVerde, kgAmmCompMisto, kgAltriAmm, kgDigestato, kgAggrRic,
                                     kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                                     kgCartaCartone, kgPlastica, kgLegnoSughero, kgCssCombustibile, kgTessile, kgCuoio, kgRifCeramici,
                                     kgFanghi, kgFertilizzanti,/* kgLegno,*/ kgGomma, kgAltro,
                                     callback)
{
    return getRecordMAT(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                        &#x27;RIF&#x27;, 0,
                        kgAmmCompVerde, kgAmmCompMisto, kgAltriAmm, kgDigestato, kgAggrRic,
                        kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                        kgCartaCartone, kgPlastica, kgLegnoSughero, kgCssCombustibile, kgTessile, kgCuoio, kgRifCeramici,
                        kgFanghi, kgFertilizzanti, 0, kgGomma, kgAltro,
                        callback);
}

/** Esporta la riga relativa al record MA(AUT) – Scheda Materiali secondari
 * @param {string} annoRiferimentoDichiarazione Anno di riferimento della dichiarazione (AAAA)
 * @param {string} codiceFiscale Codice fiscale identificativo
 * @param {string} codUL Codice di identificazione univoca dell’unità locale
 * @param {decimal} kgRottVetro Rottami di vetro
 * @param {decimal} kgRottFerroAcciaio Rottami di ferro e acciaio
 * @param {decimal} kgRottAlluminio Rottami di alluminio
 * @param {decimal} kgRottRame Rottami di rame
 * @param {decimal} kgPlastica Plastica
 * @param {decimal} kgTessile Tessile
 * @param {decimal} kgGomma Gomma
 * @param {decimal} kgAltro Altro
 * @param {utils.recordExportCallback} [callback] - Funzione di callback
 * @return {string} (Se non gestito callback) MA(AUT) – Scheda Materiali secondari
 */
exports.getRecordMAT_AUT = function(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                                     kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                                     kgPlastica, kgTessile, kgGomma, kgAltro,
                                     callback)
{
    return getRecordMAT_VFU(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                            &#x27;AUT&#x27;,
                            kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                            kgPlastica, kgTessile, kgGomma, kgAltro,
                            callback);
}

/** Esporta la riga relativa al record MA(FRA) – Scheda Materiali secondari
 * @param {string} annoRiferimentoDichiarazione Anno di riferimento della dichiarazione (AAAA)
 * @param {string} codiceFiscale Codice fiscale identificativo
 * @param {string} codUL Codice di identificazione univoca dell’unità locale
 * @param {decimal} kgRottVetro Rottami di vetro
 * @param {decimal} kgRottFerroAcciaio Rottami di ferro e acciaio
 * @param {decimal} kgRottAlluminio Rottami di alluminio
 * @param {decimal} kgRottRame Rottami di rame
 * @param {decimal} kgPlastica Plastica
 * @param {decimal} kgTessile Tessile
 * @param {decimal} kgGomma Gomma
 * @param {decimal} kgAltro Altro
 * @param {utils.recordExportCallback} [callback] - Funzione di callback
 * @return {string} (Se non gestito callback) MA(FRA) – Scheda Materiali secondari
 */
exports.getRecordMAT_FRA = function(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                                     kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                                     kgPlastica, kgTessile, kgGomma, kgAltro,
                                     callback)
{
    return getRecordMAT_VFU(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                            &#x27;FRA&#x27;,
                            kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                            kgPlastica, kgTessile, kgGomma, kgAltro,
                            callback);
}

/** Esporta la riga relativa al record MA(ROT) – Scheda Materiali secondari
 * @param {string} annoRiferimentoDichiarazione Anno di riferimento della dichiarazione (AAAA)
 * @param {string} codiceFiscale Codice fiscale identificativo
 * @param {string} codUL Codice di identificazione univoca dell’unità locale
 * @param {decimal} kgRottVetro Rottami di vetro
 * @param {decimal} kgRottFerroAcciaio Rottami di ferro e acciaio
 * @param {decimal} kgRottAlluminio Rottami di alluminio
 * @param {decimal} kgRottRame Rottami di rame
 * @param {decimal} kgPlastica Plastica
 * @param {decimal} kgTessile Tessile
 * @param {decimal} kgGomma Gomma
 * @param {decimal} kgAltro Altro
 * @param {utils.recordExportCallback} [callback] - Funzione di callback
 * @return {string} (Se non gestito callback) MA(ROT) – Scheda Materiali secondari
 */
exports.getRecordMAT_ROT = function(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                                     kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                                     kgPlastica, kgTessile, kgGomma, kgAltro,
                                     callback)
{
    return getRecordMAT_VFU(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                            &#x27;ROT&#x27;,
                            kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                            kgPlastica, kgTessile, kgGomma, kgAltro,
                            callback);
}

/** Esporta la riga generica relativa al record MA(VFU) – Scheda Materiali secondari
 * @param {string} annoRiferimentoDichiarazione Anno di riferimento della dichiarazione (AAAA)
 * @param {string} codiceFiscale Codice fiscale identificativo
 * @param {string} codUL Codice di identificazione univoca dell’unità locale
 * @param {string} tipoSchedaRiferimento Tipo di SCHEDA a cui la scheda Materiali si riferisce (AUT = Scheda Autodemolitori, FRA = Scheda Frantumatori, ROT = Scheda Rottamatori)
 * @param {decimal} kgRottVetro Rottami di vetro
 * @param {decimal} kgRottFerroAcciaio Rottami di ferro e acciaio
 * @param {decimal} kgRottAlluminio Rottami di alluminio
 * @param {decimal} kgRottRame Rottami di rame
 * @param {decimal} kgPlastica Plastica
 * @param {decimal} kgTessile Tessile
 * @param {decimal} kgGomma Gomma
 * @param {decimal} kgAltro Altro
 * @param {utils.recordExportCallback} [callback] - Funzione di callback
 * @return {string} (Se non gestito callback) MA(VFU) – Scheda Materiali secondari
 */
function getRecordMAT_VFU(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                           tipoSchedaRiferimento,
                           kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                           kgPlastica, kgTessile, kgGomma, kgAltro,
                           callback)
{
    return getRecordMAT(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                        tipoSchedaRiferimento, 0,
                        0, 0, 0, 0, 0,
                        kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                        0, kgPlastica, 0, 0, kgTessile, 0, 0,
                        0, 0, 0, kgGomma, kgAltro,
                        callback);
}

/** Esporta la riga generica relativa al record MA – Scheda Materiali secondari
 * @param {string} annoRiferimentoDichiarazione Anno di riferimento della dichiarazione (AAAA)
 * @param {string} codiceFiscale Codice fiscale identificativo
 * @param {string} codUL Codice di identificazione univoca dell’unità locale
 * @param {string} tipoSchedaRiferimento Tipo di SCHEDA a cui la scheda Materiali si riferisce (RIF = Sezione Rifiuti, AUT = Sezione VFU – scheda Autodemolitori, FRA = Sezione VFU – scheda Frantumatori, ROT = Sezione VFU – Scheda Rottamatori, IMB = Sezione Imballaggi, TRA = Sezione RAEE – Scheda Trattamento)
 * @param {number} categoriaRAEE Categoria RAEE “Valore ammesso compreso tra 1 e 10” (da compilare solo con Tipo Scheda = “TRA”)
 * @param {decimal} kgAmmCompVerde Ammendante compostato verde
 * @param {decimal} kgAmmCompMisto Ammendante compostato misto
 * @param {decimal} kgAltriAmm Altri Ammendanti
 * @param {decimal} kgDigestato Digestato
 * @param {decimal} kgAggrRic Aggregati riciclati
 * @param {decimal} kgRottVetro Rottami di vetro
 * @param {decimal} kgRottFerroAcciaio Rottami di ferro e acciaio
 * @param {decimal} kgRottAlluminio Rottami di alluminio
 * @param {decimal} kgRottRame Rottami di rame
 * @param {decimal} kgCartaCartone Carta e cartone
 * @param {decimal} kgPlastica Plastica
 * @param {decimal} kgLegnoSughero Legno e sughero
 * @param {decimal} kgCssCombustibile CSS – combustibile
 * @param {decimal} kgTessile Tessile
 * @param {decimal} kgCuoio Cuoio
 * @param {decimal} kgRifCeramici Rifiuti Ceramici
 * @param {decimal} kgFanghi Fanghi
 * @param {decimal} kgFertilizzanti Fertilizzanti
 * @param {decimal} kgLegno Legno
 * @param {decimal} kgGomma Gomma
 * @param {decimal} kgAltro Altro
 * @param {utils.recordExportCallback} [callback] - Funzione di callback
 * @return {string} (Se non gestito callback) Record MA – Scheda Materiali secondari
 */
function getRecordMAT(annoRiferimentoDichiarazione, codiceFiscale, codUL,
                       tipoSchedaRiferimento, categoriaRAEE,
                       kgAmmCompVerde, kgAmmCompMisto, kgAltriAmm, kgDigestato, kgAggrRic,
                       kgRottVetro, kgRottFerroAcciaio, kgRottAlluminio, kgRottRame,
                       kgCartaCartone, kgPlastica, kgLegnoSughero, kgCssCombustibile, kgTessile, kgCuoio, kgRifCeramici,
                       kgFanghi, kgFertilizzanti, kgLegno, kgGomma, kgAltro,
                       callback)
{
    if(tipoSchedaRiferimento != &#x27;TRA&#x27;) categoriaRAEE = 0;
    var objAmmCompVerde = utils.getOggettoValoreUM(kgAmmCompVerde);
    var objAmmCompMisto = utils.getOggettoValoreUM(kgAmmCompMisto);
    var objAltriAmm = utils.getOggettoValoreUM(kgAltriAmm);
    var objDigestato = utils.getOggettoValoreUM(kgDigestato);
    var objAggrRic = utils.getOggettoValoreUM(kgAggrRic);
    var objRottVetro = utils.getOggettoValoreUM(kgRottVetro);
    var objRottFerroAcciaio = utils.getOggettoValoreUM(kgRottFerroAcciaio);
    var objRottAlluminio = utils.getOggettoValoreUM(kgRottAlluminio);
    var objRottRame = utils.getOggettoValoreUM(kgRottRame);
    var objCartaCartone = utils.getOggettoValoreUM(kgCartaCartone);
    var objPlastica = utils.getOggettoValoreUM(kgPlastica);
    var objLegnoSughero = utils.getOggettoValoreUM(kgLegnoSughero);
    var objCssCombustibile = utils.getOggettoValoreUM(kgCssCombustibile);
    var objTessile = utils.getOggettoValoreUM(kgTessile);
    var objCuoio = utils.getOggettoValoreUM(kgCuoio);
    var objRifCeramici = utils.getOggettoValoreUM(kgRifCeramici);
    var objFanghi = utils.getOggettoValoreUM(kgFanghi);
    var objFertilizzanti = utils.getOggettoValoreUM(kgFertilizzanti);
    var objLegno = utils.getOggettoValoreUM(kgLegno);
    var objGomma = utils.getOggettoValoreUM(kgGomma);
    var objAltro = utils.getOggettoValoreUM(kgAltro);
    var retVal = util.format(
        &#x27;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;%s;&#x27;,
        &#x27;MA&#x27;,
        utils.formattaNumero(annoRiferimentoDichiarazione, 4),
        utils.formattaStringa(codiceFiscale, 16),
        utils.formattaStringa(codUL, 15),
        utils.formattaStringa(tipoSchedaRiferimento, 3),
        utils.formattaNumero(categoriaRAEE, 2),
        utils.formattaNumero(objAmmCompVerde.valore, 7, 3),
        utils.formattaNumero(objAmmCompVerde.um, 1),
        utils.formattaNumero(objAmmCompMisto.valore, 7, 3),
        utils.formattaNumero(objAmmCompMisto.um, 1),
        utils.formattaNumero(objAltriAmm.valore, 7, 3),
        utils.formattaNumero(objAltriAmm.um, 1),
        utils.formattaNumero(objDigestato.valore, 7, 3),
        utils.formattaNumero(objDigestato.um, 1),
        utils.formattaNumero(objAggrRic.valore, 7, 3),
        utils.formattaNumero(objAggrRic.um, 1),
        utils.formattaNumero(objRottVetro.valore, 7, 3),
        utils.formattaNumero(objRottVetro.um, 1),
        utils.formattaNumero(objRottFerroAcciaio.valore, 7, 3),
        utils.formattaNumero(objRottFerroAcciaio.um, 1),
        utils.formattaNumero(objRottAlluminio.valore, 7, 3),
        utils.formattaNumero(objRottAlluminio.um, 1),
        utils.formattaNumero(objRottRame.valore, 7, 3),
        utils.formattaNumero(objRottRame.um, 1),
        utils.formattaNumero(objCartaCartone.valore, 7, 3),
        utils.formattaNumero(objCartaCartone.um, 1),
        utils.formattaNumero(objPlastica.valore, 7, 3),
        utils.formattaNumero(objPlastica.um, 1),
        utils.formattaNumero(objLegnoSughero.valore, 7, 3),
        utils.formattaNumero(objLegnoSughero.um, 1),
        utils.formattaNumero(objCssCombustibile.valore, 7, 3),
        utils.formattaNumero(objCssCombustibile.um, 1),
        utils.formattaNumero(objTessile.valore, 7, 3),
        utils.formattaNumero(objTessile.um, 1),
        utils.formattaNumero(objCuoio.valore, 7, 3),
        utils.formattaNumero(objCuoio.um, 1),
        utils.formattaNumero(objRifCeramici.valore, 7, 3),
        utils.formattaNumero(objRifCeramici.um, 1),
        utils.formattaNumero(objFanghi.valore, 7, 3),
        utils.formattaNumero(objFanghi.um, 1),
        utils.formattaNumero(objFertilizzanti.valore, 7, 3),
        utils.formattaNumero(objFertilizzanti.um, 1),
        utils.formattaNumero(objLegno.valore, 7, 3),
        utils.formattaNumero(objLegno.um, 1),
        utils.formattaNumero(objGomma.valore, 7, 3),
        utils.formattaNumero(objGomma.um, 1),
        utils.formattaNumero(objAltro.valore, 7, 3),
        utils.formattaNumero(objAltro.um, 1)
    );
    if(callback)
        return callback(retVal.length != 342, retVal);
    else
        return retVal;
}
</code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> 3.3.2 on October 14, 2015.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/jquery.cookie.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>